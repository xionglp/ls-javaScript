<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Map用法</title>
    <style></style>
  </head>
  <body>
    <script>
      // 1. Map: ES6新增的一种数据结构， 用于存储映射关系
      // 对象也是存储映射关系的， 但是对象只能用字符串或者Symbol作为key
      // Map可以用其他类型作为key，比如用对象类型作为key

      // 写法一
      const obj1 = {name: "xionglp"}
      const obj2 = {age: 19}
      const map = new Map()
      map.set(obj1, "aaa")
      map.set(obj2, "bbb")
      console.log(map)
      console.log(map.get(obj1))
      console.log(map.get(obj2))

      // 写法二
      const map2 = new Map([
        [111, "11111"],
        [obj1, "ccc"],
        [obj2, "eee"],
        [obj1, "fff"]
      ])
      console.log(map2)
      console.log(map2.get(obj1))
      console.log(map2.get(obj2))

      for (const item of map2) {
        const [key, value] = item
        console.log(key, value)
      }

      // Map 常用的方法
      // 1. size 返回Map的元素个数
      // 2. set() 添加元素， get(), 获取元素
      // 3. delete()
      // 4. clear()
      // 5. has() 是否存在这个元素
      // 6.forEach() 通过forEach遍历Map
      // Map 是支持for of 遍历的

      // WeakMap的使用：
      // WeakMap和Map的区别：WeakMap只能使用对象类型作为key，不接受其他类型作为key
      // WeakMap的key对对象的引用是弱引用， 如果没有其他对象引用这个对象， GC将回收
      // WeakMap常用方法：set(),get(),has(),delete(), WaekMap不能遍历，不支持for of
      const weakMap = new WeakMap()
      // weakMap.set(111, "123") // typeError: Invalid value used as weak map key
      
    </script>
  </body>
</html>