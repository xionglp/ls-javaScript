<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>浅拷贝和深拷贝</title>
    <style></style>
  </head>
  <body>
    <script>
      // 1. 浅拷贝: 如果属性是基本数据类型， 拷贝的就是基本数据类型的值。如果属性是引用类型，拷贝的就是内存地址。
      //    浅拷贝是拷贝一层，深层次的引用类型则共享内存地址，常用的方法有Object.assign,扩展运算符等等。
      // 2. 深拷贝: 开辟一个新的栈，俩个对象的属性完全相同，但是对应俩个不同的内存地址。修改一个对象的属性，不会改变另一个对象的属性。
      const obj = {
        name: "why",
        age: 18,
        height: 1.88,
        friend: {
          name: "curry"
        }
      }

      // 1. 浅拷贝: 对象的属性如果是引用类型则拷贝其内存地址
      const info1 = {
        ...obj
      }
      info1.name = "kobe"
      console.log(obj.name) // why
      console.log(info1.name) // kobe
      info1.friend.name = "james"
      console.log(info1.friend.name) // james
      console.log(obj.friend.name) // james

      // 2. 深拷贝
      // const info3 = JSON.parse(JSON.stringify(obj))
      // console.log(info3.friend.name) // curry
      // info3.friend.name = "rose"
      // console.log("info3.friend.name: ", info3.friend.name) // rose
      // console.log(obj.friend.name) // curry
    </script>
  </body>
</html>